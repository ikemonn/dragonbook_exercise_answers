## 2
- 原始プログラム → トークン → 構文解析器 → 構文木 → 中間コード生成器 → 3アドレスコード

## 2.2.1 文法の定義
- プログラムの構文を規定する記法
  - 文脈自由文法

- 文脈自由文法は4つの定義からなる
  - 終端記号(トークン)の集合
    - if () とか
  - 非終端記号の集合
    - 変数
  - 生成規則の集合
  - 開始記号としての1つの終端記号の指定

## 2.2.2 導出
- 文法は開始記号から出発して、非終端記号をそれに対する生成規則の本体で置き換える操作の繰り返しによって記号列を導出する
- 構文解析
  - 終端記号列が与えられた時、それがどのようにして文法の開始記号から導出されるかを明らかにする
  - 導出が不可能ならエラーを報告する

## 2.2.3 解析木
- 解析木
  - 言語に含まれる文字列が、その文法の開始記号から、どのように導出できるかを図示したもの
  - 性質
    - 根は開始記号をラベルに持つ
    - 各葉は終端記号または∈をラベルに持つ
    - 内部接点は非終端記号をラベルに持つ
    - ある内部節点が非終端記号Aをラベルに持ち、その接点のコラベルが左から右にX, Y, Zなら、A→X,Y,Z
  - 用語
    - 根は一番上の点
    - 子を持たない節点を葉
    - 1つでも子を持つ節点を内部節点

## 2.2.4 冗長性
- 曖昧
  - 文法によっては1つの終端記号列に対して、それを導出する解析着が2種類以上生成できる時のこと

## 2.2.5 演算子の結合性
- 9 + 5 + 2 = (9 + 5) + 2
- 9 - 5 - 2 = (9 - 5) - 2
  - この5のようにオペランドの左右に演算子が現れる場合には、どちらの演算子をそのオペランドに適用するのかを決めておく必要がある
  - オペランドが両側にせ符号を持つ時、そのオペランドは左の演算子側に属すので、+は左結合性を持つという
  - + - * / は左結合

- = は右結合性を持つ
  - a = b = c → a = (b = c)
  - 記号列
    - right -> letter = right | left
    - letter -> a | b | .. | z

## 2.2.6 演算子の優先順位
- * と + では、* は + よりも高い優先順位を持つ
- 記号表で表す
  - 2レベルの優先順位に対して、2個の非終端記号 expr(式) と term(項)を作る
  - 式の中での基本になる単位要素を作り出すための非終端記号factorを用意する
  - 基本単位は数字およびカッコで括られた式
    - factor -> digit | (expr)
  - * と / は左結合性をもち優先順位が高い
    - term -> term * factor | term / factor | factor
  - expr は加工演算子で区切られたtemrの並びを生成する
    - expr -> expr + term | expr - term | term
  - まとめると
    - expr -> expr + term | expr - term | term
    - term -> term * factor | term / factor | factor
    - factor -> digit | (expr)
